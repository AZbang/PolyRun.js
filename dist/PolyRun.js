"use strict";function _classCallCheck(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_createClass=function(){function t(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(i,e,n){return e&&t(i.prototype,e),n&&t(i,n),i}}();!function t(i,e,n){function s(o,h){if(!e[o]){if(!i[o]){var a="function"==typeof require&&require;if(!h&&a)return a(o,!0);if(r)return r(o,!0);throw new Error("Cannot find module '"+o+"'")}var u=e[o]={exports:{}};i[o][0].call(u.exports,function(t){var e=i[o][1][t];return s(e?e:t)},u,u.exports,t,i,e,n)}return e[o].exports}for(var r="function"==typeof require&&require,o=0;o<n.length;o++)s(n[o]);return s}({1:[function(t,i,e){var n;!function(){function t(t){var i,e,n,s,r,o,h=Number.POSITIVE_INFINITY,a=Number.POSITIVE_INFINITY,u=Number.NEGATIVE_INFINITY,l=Number.NEGATIVE_INFINITY;for(i=t.length;i--;)t[i][0]<h&&(h=t[i][0]),t[i][0]>u&&(u=t[i][0]),t[i][1]<a&&(a=t[i][1]),t[i][1]>l&&(l=t[i][1]);return e=u-h,n=l-a,s=Math.max(e,n),r=h+.5*e,o=a+.5*n,[[r-20*s,o-s],[r,o+20*s],[r+20*s,o-s]]}function e(t,i,e,n){var s,o,h,a,u,l,c,f,p,m,d=t[i][0],y=t[i][1],v=t[e][0],g=t[e][1],C=t[n][0],k=t[n][1],x=Math.abs(y-g),b=Math.abs(g-k);if(x<r&&b<r)throw new Error("Eek! Coincident points!");return x<r?(a=-((C-v)/(k-g)),l=(v+C)/2,f=(g+k)/2,s=(v+d)/2,o=a*(s-l)+f):b<r?(h=-((v-d)/(g-y)),u=(d+v)/2,c=(y+g)/2,s=(C+v)/2,o=h*(s-u)+c):(h=-((v-d)/(g-y)),a=-((C-v)/(k-g)),u=(d+v)/2,l=(v+C)/2,c=(y+g)/2,f=(g+k)/2,s=(h*u-a*l+f-c)/(h-a),o=x>b?h*(s-u)+c:a*(s-l)+f),p=v-s,m=g-o,{i:i,j:e,k:n,x:s,y:o,r:p*p+m*m}}function s(t){var i,e,n,s,r,o;for(e=t.length;e;)for(s=t[--e],n=t[--e],i=e;i;)if(o=t[--i],r=t[--i],n===r&&s===o||n===o&&s===r){t.splice(e,2),t.splice(i,2);break}}var r=1/1048576;n={triangulate:function(i,n){var o,h,a,u,l,c,f,p,m,d,y,v,g=i.length;if(g<3)return[];if(i=i.slice(0),n)for(o=g;o--;)i[o]=i[o][n];for(a=new Array(g),o=g;o--;)a[o]=o;for(a.sort(function(t,e){return i[e][0]-i[t][0]}),u=t(i),i.push(u[0],u[1],u[2]),l=[e(i,g+0,g+1,g+2)],c=[],f=[],o=a.length;o--;f.length=0){for(v=a[o],h=l.length;h--;)p=i[v][0]-l[h].x,p>0&&p*p>l[h].r?(c.push(l[h]),l.splice(h,1)):(m=i[v][1]-l[h].y,p*p+m*m-l[h].r>r||(f.push(l[h].i,l[h].j,l[h].j,l[h].k,l[h].k,l[h].i),l.splice(h,1)));for(s(f),h=f.length;h;)y=f[--h],d=f[--h],l.push(e(i,d,y,v))}for(o=l.length;o--;)c.push(l[o]);for(l.length=0,o=c.length;o--;)c[o].i<g&&c[o].j<g&&c[o].k<g&&l.push(c[o].i,c[o].j,c[o].k);return l},contains:function(t,i){if(i[0]<t[0][0]&&i[0]<t[1][0]&&i[0]<t[2][0]||i[0]>t[0][0]&&i[0]>t[1][0]&&i[0]>t[2][0]||i[1]<t[0][1]&&i[1]<t[1][1]&&i[1]<t[2][1]||i[1]>t[0][1]&&i[1]>t[1][1]&&i[1]>t[2][1])return null;var e=t[1][0]-t[0][0],n=t[2][0]-t[0][0],s=t[1][1]-t[0][1],r=t[2][1]-t[0][1],o=e*r-n*s;if(0===o)return null;var h=(r*(i[0]-t[0][0])-n*(i[1]-t[0][1]))/o,a=(e*(i[1]-t[0][1])-s*(i[0]-t[0][0]))/o;return h<0||a<0||h+a>1?null:[h,a]}},"undefined"!=typeof i&&(i.exports=n)}()},{}],2:[function(t,i,e){var n=t("./helper"),s=function(){function t(i,e){_classCallCheck(this,t),this.root=i,this.index=e,this.x=i.vertices[e][0],this.y=i.vertices[e][1],this.id=i.vertices[e][2]||0,this.style=i.render[this.id]||{},this.commons=[],this.variants=[],this.dtCommons=[],this.isStart=!1,this._tickerCounter=0,this.animCounter=0}return _createClass(t,[{key:"newLineAnimation",value:function(){if(this.commons.length){var t=n.randRange(0,this.commons.length-1);this.dtCommons.push([{x:this.x,y:this.y},this.commons[t]]),this.commons.splice(t,1)}}},{key:"start",value:function(){this.isStart=!0}},{key:"update",value:function(){this.isStart&&(this._tickerCounter++,this._tickerCounter>=this.root.probability&&(this._tickerCounter=0,this.newLineAnimation()),this.animation())}},{key:"animation",value:function(){this.animCounter=n.lerp(this.animCounter,this.root.animCounterMax,this.root.animCounterSpeed);for(var t=0;t<this.dtCommons.length;t++)if(!this.dtCommons[t][2]){var i=this.dtCommons[t];i[0].x=n.lerp(i[0].x,i[1].x,this.root.speed),i[0].y=n.lerp(i[0].y,i[1].y,this.root.speed),n.compare(i[0].x,i[1].x,1)&&n.compare(i[0].y,i[1].y,1)&&(this.dtCommons[t][2]=!0,i[1].start())}}},{key:"draw",value:function(){if(this.isStart){for(var t=0;t<this.dtCommons.length;t++)this.style.renderLine&&this.id===this.dtCommons[t][1].id&&this.style.renderLine(this,this.x,this.y,this.dtCommons[t][0].x,this.dtCommons[t][0].y);this.style.renderPoint&&this.style.renderPoint(this,this.x,this.y)}}},{key:"resize",value:function(){this.x=this.root.vertices[this.index][0]*this.root.zoom,this.y=this.root.vertices[this.index][1]*this.root.zoom}}]),t}();i.exports=s},{"./helper":6}],3:[function(t,i,e){var n=t("delaunay-fast"),s=t("./Point"),r=t("./helper"),o=function(){function t(i){_classCallCheck(this,t),this.root=i.root,this.w=r.is(i.w,0),this.h=r.is(i.h,0),this.zoom=1,this.render=r.is(i.render,{}),this.clear=i.clear,this.compress=r.is(i.compress,6),this.cell=r.is(i.cell,100),this.vertices=r.is(i.generate,this._generateVertices(),r.is(i.vertices,[])),this.triangles=n.triangulate(this.vertices),this.startPoint=r.is(i.startPoint,0),this.speed=r.is(i.speed,.1),this.probability=r.is(i.probability,10),this.acceleration=r.is(i.acceleration,.001),this.animCounterSpeed=r.is(i.animCounterSpeed,0),this.animCounterMax=r.is(i.animCounterMax,0),this.points=[],this._createAnimation(),i.autoStart&&this.start(this.startPoint)}return _createClass(t,[{key:"_generateVertices",value:function(){for(var t=[],i=-1;i<Math.round(this.h/this.cell)+1;i++)for(var e=-1;e<Math.round(this.w/this.cell)+1;e++){var n=r.randRange(i*this.cell+this.cell/this.compress,(i+1)*this.cell-this.cell/this.compress),s=r.randRange(e*this.cell+this.cell/this.compress,(e+1)*this.cell-this.cell/this.compress);t.push([s,n])}return t}},{key:"_createPoints",value:function(){for(var t=0,i=0;i<this.triangles.length;i++){var e,n=this.triangles[i];switch(t++,this.points[n]||(this.points[n]=new s(this,n)),t){case 1:e=[this.triangles[i+1],this.triangles[i+2]];break;case 2:e=[this.triangles[i-1],this.triangles[i+1]];break;case 3:e=[this.triangles[i-1],this.triangles[i-2]],t=0}t:for(var r=0;r<e.length;r++){for(var o=0;o<this.points[n].commons.length;o++)if(this.points[n].commons[o]==e[r])continue t;this.points[n].commons.push(e[r])}}}},{key:"_createPointLinks",value:function(){for(var t=0;t<this.points.length;t++)for(var i=0;i<this.points[t].commons.length;i++)this.points[t].commons[i]=this.points[this.points[t].commons[i]]}},{key:"_createAnimation",value:function(){this._createPoints(),this._createPointLinks()}},{key:"start",value:function(t){this.points[t||0].start()}},{key:"update",value:function(){this.speed<.5&&(this.speed+=this.acceleration);for(var t=this.points.length;t;)--t,this.points[t].update();this.draw()}},{key:"draw",value:function(){this.clear&&this.clear(this);for(var t=this.points.length;t;)--t,this.points[t].draw()}},{key:"resize",value:function(){this.w=this.root.offsetWidth,this.h=this.root.offsetHeight,this.view.width=this.w,this.view.height=this.h,this.zoom=this.w/this.rootScale;for(var t=this.points.length;t;)--t,this.points[t].resize()}}]),t}();i.exports=o},{"./Point":2,"./helper":6,"delaunay-fast":1}],4:[function(t,i,e){var n=t("./PolyEffect.js"),s={effects:{},add:function(t,i){i.root=this;var e=new n(i);return this.effects[t]=e,e},remove:function(t){delete this.effects[t]},update:function(){for(var t in this.effects)this.effects[t].update()}};i.exports=s},{"./PolyEffect.js":3}],5:[function(t,i,e){var n=window||{};n.PolyRun=t("./PolyRun"),"undefined"!=typeof i&&(i.exports=PolyRun)},{"./PolyRun":4}],6:[function(t,i,e){var n={toRadians:function(t){return t*Math.PI/180},toDegree:function(t){return t/Math.PI*180},randRange:function(t,i){var e=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=Math.random()*(i-t+1)+t;return e?Math.floor(n):n},compare:function(t,i,e){return e?t>i-e&&t<i+e:t==i},lerp:function(t,i,e){return(1-e)*t+e*i},isFindValueInArray:function(t,i){for(var e=t.lenght;e;)if(++e,t[e]==i)return!0;return!1},is:function(t,i,e){return null!=e?null!=t?i:e:null!=t?t:i},isObj:function(t,i,e){return null!=e?"object"===("undefined"==typeof t?"undefined":_typeof(t))?i:e:"object"===("undefined"==typeof t?"undefined":_typeof(t))?t:i}};i.exports=n},{}]},{},[5]);